# ==========================================================================
# Copyright (C) 2022 Intel Corporation
#
# SPDX-License-Identifier: MIT
# ==========================================================================

project(ll_examples VERSION 1.0 LANGUAGES CXX)

add_executable(ll_canned_mode_example canned_mode_example.cpp)
add_executable(ll_canned_mode_with_data_example canned_mode_with_data_example.cpp)
add_executable(ll_compression_example compression_example.cpp)
add_executable(ll_crc64_example crc64_example.cpp)
add_executable(ll_expand_example expand_example.cpp)
add_executable(ll_extract_example extract_example.cpp)
add_executable(ll_find_unique_example find_unique_example.cpp)
add_executable(ll_rle_burst_example rle_burst_example.cpp)
add_executable(ll_scan_example scan_example.cpp)
add_executable(ll_scan_for_unique_value_example scan_for_unique_value_example.cpp)
add_executable(ll_scan_range_example scan_range_example.cpp)
add_executable(ll_select_example select_example.cpp)
add_executable(ll_set_membership_example set_membership_example.cpp)
add_executable(ll_zero_compression_example zero_compression_example.cpp)

target_link_libraries(ll_canned_mode_example PRIVATE qpl)
target_link_libraries(ll_canned_mode_with_data_example PRIVATE qpl PRIVATE $<$<C_COMPILER_ID:GNU>:stdc++fs>)
target_link_libraries(ll_compression_example PRIVATE qpl)
target_link_libraries(ll_crc64_example PRIVATE qpl)
target_link_libraries(ll_expand_example PRIVATE qpl)
target_link_libraries(ll_extract_example PRIVATE qpl)
target_link_libraries(ll_find_unique_example PRIVATE qpl)
target_link_libraries(ll_rle_burst_example PRIVATE qpl)
target_link_libraries(ll_scan_example PRIVATE qpl)
target_link_libraries(ll_scan_for_unique_value_example PRIVATE qpl)
target_link_libraries(ll_scan_range_example PRIVATE qpl)
target_link_libraries(ll_select_example PRIVATE qpl)
target_link_libraries(ll_set_membership_example PRIVATE qpl)
target_link_libraries(ll_zero_compression_example PRIVATE qpl)

set_target_properties(ll_canned_mode_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_canned_mode_with_data_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_compression_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_crc64_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_expand_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_extract_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_find_unique_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_rle_burst_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_scan_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_scan_for_unique_value_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_scan_range_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_select_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_set_membership_example PROPERTIES CXX_STANDARD 17)
set_target_properties(ll_zero_compression_example PROPERTIES CXX_STANDARD 17)

if (WIN32)
    target_compile_options(ll_canned_mode_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_canned_mode_with_data_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_compression_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_crc64_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_expand_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_extract_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_find_unique_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_rle_burst_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_scan_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_scan_for_unique_value_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_scan_range_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_select_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_set_membership_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
    target_compile_options(ll_zero_compression_example PRIVATE "$<$<CONFIG:Release>:-O2>" /WX)
else ()
    target_compile_options(ll_canned_mode_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_canned_mode_with_data_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_compression_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_crc64_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_expand_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_extract_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_find_unique_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_rle_burst_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_scan_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_scan_for_unique_value_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_scan_range_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_select_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_set_membership_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
    target_compile_options(ll_zero_compression_example PRIVATE "$<$<CONFIG:Release>:-O3>" -Werror)
endif ()
